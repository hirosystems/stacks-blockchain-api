{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"ContractCallTransaction","description":"Describes representation of a Type 2 Stacks 2.0 transaction: Contract Call","allOf":[{"$schema":"http://json-schema.org/draft-07/schema#","description":"Abstract transaction. This schema makes up all properties common between all Stacks 2.0 transaction types","type":"object","required":["tx_id","tx_index","block_hash","block_height","burn_block_time","burn_block_time_iso","canonical","tx_status","fee_rate","sender_address","sponsored","post_condition_mode"],"properties":{"block_hash":{"type":"string","description":"Hash of the blocked this transactions was associated with"},"block_height":{"type":"integer","description":"Height of the block this transactions was associated with"},"burn_block_time":{"type":"integer","description":"Unix timestamp (in seconds) indicating when this block was mined"},"burn_block_time_iso":{"type":"string","description":"An ISO 8601 (YYYY-MM-DDTHH:mm:ss.sssZ) timestamp indicating when this block was mined."},"canonical":{"type":"boolean","description":"Set to `true` if block corresponds to the canonical chain tip"},"tx_id":{"type":"string","description":"Transaction ID"},"tx_index":{"type":"integer","description":"Index of the transaction, indicating the order. Starts at `0` and increases with each transaction"},"tx_status":{"description":"Status of the transaction","$schema":"http://json-schema.org/draft-07/schema#","title":"TransactionStatus","type":"string","enum":["success","pending","abort_by_response","abort_by_post_condition"]},"tx_result":{"type":"object","required":["hex","repr"],"description":"Result of the transaction. For contract calls, this will show the value returned by the call. For other transaction types, this will return a boolean indicating the success of the transaction.","additionalProperties":false,"properties":{"hex":{"type":"string","description":"Hex string representing the value fo the transaction result"},"repr":{"type":"string","description":"Readable string of the transaction result"}}},"fee_rate":{"type":"string","description":"Transaction fee as Integer string (64-bit unsigned integer)."},"sender_address":{"type":"string","description":"Address of the transaction initiator"},"sponsored":{"type":"boolean","description":"Denotes whether the originating account is the same as the paying account"},"sponsor_address":{"type":"string"},"post_condition_mode":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionMode","description":"","type":"string","enum":["allow","deny"]}}},{"type":"object","required":["tx_type","contract_call","post_conditions","events"],"properties":{"tx_type":{"type":"string","enum":["contract_call"]},"events":{"type":"array","description":"List of transaction events","items":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"TransactionEvent","oneOf":[{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"TransactionEventSmartContractLog","description":"Only present in `smart_contract` and `contract_call` tx types.","allOf":[{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","required":["event_index"],"properties":{"event_index":{"type":"integer"}}},{"type":"object","required":["event_type","contract_log"],"properties":{"event_type":{"type":"string","enum":["smart_contract_log"]},"contract_log":{"type":"object","additionalProperties":false,"required":["contract_id","topic","value"],"properties":{"contract_id":{"type":"string"},"topic":{"type":"string"},"value":{"type":"object","additionalProperties":false,"required":["hex","repr"],"properties":{"hex":{"type":"string"},"repr":{"type":"string"}}}}}}}]},{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"TransactionEventStxAsset","description":"Only present in `smart_contract` and `contract_call` tx types.","allOf":[{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","required":["event_index"],"properties":{"event_index":{"type":"integer"}}},{"type":"object","required":["event_type","asset"],"properties":{"event_type":{"type":"string","enum":["stx_asset"]},"asset":{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"TransactionEventAsset","additionalProperties":false,"properties":{"asset_event_type":{"$schema":"http://json-schema.org/draft-07/schema#","title":"TransactionEventAssetType","type":"string","enum":["transfer","mint","burn"]},"asset_id":{"type":"string"},"sender":{"type":"string"},"recipient":{"type":"string"},"amount":{"type":"string"},"value":{"type":"string"}}}}}]},{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"TransactionEventFungibleAsset","allOf":[{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","required":["event_index"],"properties":{"event_index":{"type":"integer"}}},{"type":"object","required":["event_type","asset"],"properties":{"event_type":{"type":"string","enum":["fungible_token_asset"]},"asset":{"type":"object","additionalProperties":false,"required":["asset_event_type","asset_id","sender","recipient","amount"],"properties":{"asset_event_type":{"type":"string"},"asset_id":{"type":"string"},"sender":{"type":"string"},"recipient":{"type":"string"},"amount":{"type":"string"}}}}}]},{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","title":"TransactionEventNonFungibleAsset","allOf":[{"$schema":"http://json-schema.org/draft-07/schema#","type":"object","required":["event_index"],"properties":{"event_index":{"type":"integer"}}},{"type":"object","required":["event_type","asset"],"properties":{"event_type":{"type":"string","enum":["non_fungible_token_asset"]},"asset":{"type":"object","additionalProperties":false,"required":["asset_event_type","asset_id","sender","recipient","value"],"properties":{"asset_event_type":{"type":"string"},"asset_id":{"type":"string"},"sender":{"type":"string"},"recipient":{"type":"string"},"value":{"type":"object","additionalProperties":false,"required":["hex","repr"],"properties":{"hex":{"type":"string"},"repr":{"type":"string"}}}}}}}]}]}},"contract_call":{"type":"object","additionalProperties":false,"required":["contract_id","function_name","function_signature"],"properties":{"contract_id":{"type":"string","description":"Contract identifier formatted as `<principaladdress>.<contract_name>`"},"function_name":{"type":"string","description":"Name of the Clarity function to be invoked"},"function_signature":{"type":"string","description":"Function definition, including function name and type as well as parameter names and types"},"function_args":{"type":"array","description":"List of arguments used to invoke the function","items":{"type":"object","additionalProperties":false,"required":["hex","repr","name","type"],"properties":{"hex":{"type":"string"},"repr":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"}}}}}},"post_conditions":{"type":"array","items":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostCondition","description":"Post-conditionscan limit the damage done to a user's assets","anyOf":[{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionStx","type":"object","allOf":[{"type":"object","required":["principal"],"properties":{"principal":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionPrincipal","type":"object","anyOf":[{"type":"object","additionalProperties":false,"description":"Principal Origin","required":["type_id"],"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_origin"]}}},{"type":"object","description":"Principal Standard","required":["type_id","address"],"additionalProperties":false,"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_standard"]},"address":{"type":"string"}}},{"type":"object","description":"Principal Contract","required":["type_id","address","contract_name"],"additionalProperties":false,"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_contract"]},"address":{"type":"string"},"contract_name":{"type":"string"}}}]}}},{"type":"object","required":["condition_code","amount","type"],"properties":{"condition_code":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionFungibleConditionCode","description":"A fungible condition code encodes a statement being made for either STX or a fungible token, with respect to the originating account.","type":"string","enum":["sent_equal_to","sent_greater_than","sent_greater_than_or_equal_to","sent_less_than","sent_less_than_or_equal_to"]},"amount":{"type":"string"},"type":{"enum":["stx"],"type":"string"}}}]},{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionFungible","type":"object","allOf":[{"type":"object","required":["principal"],"properties":{"principal":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionPrincipal","type":"object","anyOf":[{"type":"object","additionalProperties":false,"description":"Principal Origin","required":["type_id"],"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_origin"]}}},{"type":"object","description":"Principal Standard","required":["type_id","address"],"additionalProperties":false,"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_standard"]},"address":{"type":"string"}}},{"type":"object","description":"Principal Contract","required":["type_id","address","contract_name"],"additionalProperties":false,"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_contract"]},"address":{"type":"string"},"contract_name":{"type":"string"}}}]}}},{"type":"object","required":["condition_code","amount","type","asset"],"properties":{"condition_code":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionFungibleConditionCode","description":"A fungible condition code encodes a statement being made for either STX or a fungible token, with respect to the originating account.","type":"string","enum":["sent_equal_to","sent_greater_than","sent_greater_than_or_equal_to","sent_less_than","sent_less_than_or_equal_to"]},"type":{"enum":["fungible"],"type":"string"},"amount":{"type":"string"},"asset":{"type":"object","required":["asset_name","contract_address","contract_name"],"additionalProperties":false,"properties":{"asset_name":{"type":"string"},"contract_address":{"type":"string"},"contract_name":{"type":"string"}}}}}]},{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionNonFungible","type":"object","allOf":[{"type":"object","required":["principal"],"properties":{"principal":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionPrincipal","type":"object","anyOf":[{"type":"object","additionalProperties":false,"description":"Principal Origin","required":["type_id"],"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_origin"]}}},{"type":"object","description":"Principal Standard","required":["type_id","address"],"additionalProperties":false,"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_standard"]},"address":{"type":"string"}}},{"type":"object","description":"Principal Contract","required":["type_id","address","contract_name"],"additionalProperties":false,"properties":{"type_id":{"type":"string","description":"String literal of type `PostConditionPrincipalType`","enum":["principal_contract"]},"address":{"type":"string"},"contract_name":{"type":"string"}}}]}}},{"type":"object","required":["condition_code","type","asset_value","asset"],"properties":{"condition_code":{"$schema":"http://json-schema.org/draft-07/schema#","title":"PostConditionNonFungibleConditionCode","description":"A non-fungible condition code encodes a statement being made about a non-fungible token, with respect to whether or not the particular non-fungible token is owned by the account.","type":"string","enum":["sent","not_sent"]},"type":{"enum":["non_fungible"],"type":"string"},"asset_value":{"type":"object","additionalProperties":false,"required":["hex","repr"],"properties":{"hex":{"type":"string"},"repr":{"type":"string"}}},"asset":{"type":"object","required":["asset_name","contract_address","contract_name"],"additionalProperties":false,"properties":{"asset_name":{"type":"string"},"contract_address":{"type":"string"},"contract_name":{"type":"string"}}}}}]}]}}}}]}